"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[266],{7266:function(e,n,r){r.r(n),r.d(n,{default:function(){return $}});var t=r(2791),i=r(364),o=r(8813),s=r(3168),l=r(3504),c=r(1272),a=r(733),u="Account_recomendation__-pO+N",d="Account_info__gqj-l",f="Account_block__9gWj1",h=r(9439),m=r(6151),p="AccountInfo_main__CTBO8",x="AccountInfo_info__Vohqc",_="AccountInfo_field__OrPOg",j="AccountInfo_editBut__K1Qei",v=r(1413),g=r(1134),b=r(8297),N=r(265),Z=r(7941),C=r(5239),y=r(6987),k=r(7163),M="AccountInfoForm_main__x8P4F",P="AccountInfoForm_buttons__gck1A",w="AccountInfoForm_cancel__KMj81",A="AccountInfoForm_save__9ZfXO",I="AccountInfoForm_row__I-zwD",D="AccountInfoForm_field__83OOz",O="AccountInfoForm_phone__s07E6",L="AccountInfoForm_lastField__ZBko3",B=r(184),S=(0,i.$j)((function(e){return{user:e.user.user,cities:e.common.searchingCities,npWarehouses:e.common.npWarehouses}}),{getCities:b.MC,getWarehouses:b.aM,updateProfile:N.ck})((function(e){var n=e.onClose,r=e.cities,i=e.npWarehouses,o=e.getCities,l=e.getWarehouses,c=e.user,a=e.updateProfile,u=(0,s.$)().t,d=(0,g.cI)(),f=d.handleSubmit,p=d.control,x=d.reset,_=d.setValue,j=(0,t.useState)(c.city||null),b=(0,h.Z)(j,2),N=b[0],S=b[1],V=(0,t.useState)(c.warehouse||null),F=(0,h.Z)(V,2),$=(F[0],F[1]);return(0,t.useEffect)((function(){x((0,v.Z)((0,v.Z)({},c),{},{first_name:c.first_name||"",last_name:c.last_name||"",email:c.email||"",phone:c.phone?c.phone.substring(4):"",city:c.city||null,warehouse:c.warehouse||null}))}),[]),(0,t.useEffect)((function(){N&&l(N.MainDescription,"")}),[N]),(0,B.jsxs)("form",{onSubmit:f((function(e){e.phone=e.phone?"+380"+e.phone:"",e.city={MainDescription:e.city.MainDescription,Present:e.city.Present},e.warehouse={Description:e.warehouse.Description,DescriptionRu:e.warehouse.DescriptionRu,CityDescription:e.warehouse.CityDescription,CityDescriptionRu:e.warehouse.CityDescriptionRu},a(c._id,e),n()})),className:M,children:[(0,B.jsxs)("div",{className:I,children:[(0,B.jsxs)(k.Z,{className:D,children:[(0,B.jsx)("label",{children:u("profile.account.form.first_name")}),(0,B.jsx)(g.Qr,{name:"first_name",control:p,defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;e.fieldState.error;return(0,B.jsx)(y.Z,{onChange:r,value:t})}})]}),(0,B.jsxs)(k.Z,{className:D,children:[(0,B.jsx)("label",{children:u("profile.account.form.last_name")}),(0,B.jsx)(g.Qr,{name:"last_name",control:p,defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;e.fieldState.error;return(0,B.jsx)(y.Z,{onChange:r,value:t})}})]})]}),(0,B.jsxs)("div",{className:I,children:[(0,B.jsxs)(k.Z,{className:D,children:[(0,B.jsx)("label",{children:u("profile.account.form.email")}),(0,B.jsx)(g.Qr,{name:"email",control:p,defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;e.fieldState.error;return(0,B.jsx)(y.Z,{onChange:r,value:t})}})]}),(0,B.jsxs)(k.Z,{className:(0,Z.cx)(D,O),children:[(0,B.jsx)("label",{children:u("profile.account.form.phone")}),(0,B.jsx)(g.Qr,{name:"phone",control:p,defaultValue:"",render:function(e){var n=e.field,r=n.onChange,t=n.value;e.fieldState.error;return(0,B.jsx)(y.Z,{onChange:r,value:t,regex:"number",startAdornment:!0,startAdornmentIcon:(0,B.jsx)("span",{children:"+380"})})}})]})]}),(0,B.jsxs)(k.Z,{className:D,children:[(0,B.jsx)("label",{children:u("profile.account.form.city")}),(0,B.jsx)(g.Qr,{name:"city",control:p,defaultValue:null,render:function(e){var n=e.field,t=n.onChange,i=n.value;e.fieldState.error;return(0,B.jsx)(C.Z,{value:i,onChange:t,items:r,setValue:_,name:"city",disabled:!1,onSearch:o,setCurrentValue:S,placeholder:u("profile.account.form.city")})}})]}),(0,B.jsxs)(k.Z,{className:(0,Z.cx)(D,L),children:[(0,B.jsx)("label",{children:u("profile.account.form.postNumber")}),(0,B.jsx)(g.Qr,{name:"warehouse",control:p,defaultValue:null,render:function(e){var n=e.field,r=n.onChange,t=n.value;e.fieldState.error;return(0,B.jsx)(C.Z,{value:t,onChange:r,items:i,setValue:_,name:"warehouse",disabled:!N,onSearch:l,city:N,setCurrentValue:$,placeholder:u("profile.account.form.number")})}})]}),(0,B.jsxs)("div",{className:P,children:[(0,B.jsx)(m.Z,{onClick:n,className:w,children:u("profile.account.cancel")}),(0,B.jsx)(m.Z,{className:A,type:"submit",children:u("profile.account.submit")})]})]})})),V=(0,i.$j)((function(e){return{user:e.user.user,currentLanguage:e.common.currentLanguage}}),{})((function(e){var n=e.user,r=e.currentLanguage,i=(0,s.$)().t,o=(0,t.useState)(!1),l=(0,h.Z)(o,2),c=l[0],a=l[1],u=function(){a(!c)};return(0,B.jsxs)("div",{className:p,children:[c?(0,B.jsx)(S,{onClose:u}):(0,B.jsxs)("div",{className:x,children:[(0,B.jsxs)("div",{className:_,children:[(0,B.jsx)("label",{children:i("profile.account.name")}),(0,B.jsxs)("p",{children:[n.first_name," ",n.last_name]})]}),(0,B.jsxs)("div",{className:_,children:[(0,B.jsx)("label",{children:i("profile.account.email")}),(0,B.jsx)("p",{children:n.email})]}),(0,B.jsxs)("div",{className:_,children:[(0,B.jsx)("label",{children:i("profile.account.phone")}),(0,B.jsx)("p",{children:n.phone})]}),(0,B.jsxs)("div",{className:_,children:[(0,B.jsx)("label",{children:i("profile.account.address")}),n.warehouse?"ru"===r?(0,B.jsxs)("p",{children:[n.warehouse.CityDescriptionRu,", ",n.warehouse.DescriptionRu]}):(0,B.jsxs)("p",{children:[n.warehouse.CityDescription,", ",n.warehouse.Description]}):(0,B.jsx)("p",{children:n.city&&n.city.MainDescription})]})]}),!c&&(0,B.jsx)(m.Z,{onClick:u,className:j,children:i("profile.account.edit")})]})})),F=function(e){var n=(0,s.$)().t;return(0,B.jsx)(a.Z,{title:n("profile.menu.account"),children:(0,B.jsxs)(c.Z,{children:[(0,B.jsx)("span",{className:u,children:n("profile.account.recomendation")}),(0,B.jsx)(V,{}),(0,B.jsxs)("div",{className:d,children:[(0,B.jsxs)("div",{className:f,children:[(0,B.jsx)("h5",{children:n("profile.account.oneBlockInfo.title")}),(0,B.jsx)("p",{children:n("profile.account.oneBlockInfo.text")}),(0,B.jsx)(l.OL,{to:"/",children:n("profile.account.oneBlockInfo.linkText")})]}),(0,B.jsxs)("div",{className:f,children:[(0,B.jsx)("h5",{children:n("profile.account.twoBlockInfo.title")}),(0,B.jsx)("p",{children:n("profile.account.twoBlockInfo.text")}),(0,B.jsx)(l.OL,{to:"/",children:n("profile.account.twoBlockInfo.linkText")})]}),(0,B.jsxs)("div",{className:f,children:[(0,B.jsx)("h5",{children:n("profile.account.threeBlockInfo.title")}),(0,B.jsx)("p",{children:n("profile.account.threeBlockInfo.text")}),(0,B.jsx)(l.OL,{to:"/",children:n("profile.account.threeBlockInfo.linkText")})]})]})]},"account")})},$=(0,i.$j)((function(e){return{user:e.user.user,isFetching:e.common.isFetching}}),{})((function(e){var n=e.user,r=e.isFetching;return(0,B.jsxs)(B.Fragment,{children:[r&&(0,B.jsx)(o.Z,{}),(0,B.jsx)(F,{user:n})]})}))},5239:function(e,n,r){var t=r(1413),i=r(9439),o=r(4942),s=r(2791),l=r(7227),c=r(7391),a=r(5229),u=r(1879),d=r(3168),f=r(184),h=(0,a.Z)((function(e){return{root:{background:"white","& label.Mui-focused":{color:"#4B5EA3"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#4B5EA3"},"& .MuiOutlinedInput-root":(0,o.Z)({borderRadius:0},"borderRadius","4px"),"& .MuiFormHelperText-root.Mui-error":{margin:0,marginTop:5},"& .MuiAutocomplete-endAdornment":{width:"fit-content !important"}}}}));n.Z=function(e){var n=e.onSearch,r=e.items,o=e.value,a=e.error,m=e.setValue,p=e.name,x=e.label,_=e.defaultValue,j=e.city,v=e.setCurrentValue,g=e.placeholder,b=e.disabled,N=h(),Z=(0,d.$)().t,C=(0,s.useState)(""),y=(0,i.Z)(C,2),k=y[0],M=y[1],P=(0,u.Z)(k,500);return(0,s.useEffect)((function(){P&&("city"===p?n(k):"warehouse"===p&&j&&n(j.MainDescription,k))}),[P,j]),(0,s.useEffect)((function(){0===k.length&&m(p,null)}),[k]),(0,f.jsx)(l.Z,{disablePortal:!0,disabled:b,options:r,value:o,noOptionsText:Z("catalog.empty"),getOptionLabel:function(e){return e.Present?e.Present:e.Description},onChange:function(e,n){m(p,n),"city"===p&&m("warehouse",null),v(n)},filterSelectedOptions:!0,limitTags:250,isOptionEqualToValue:function(e,n){return e.Present?e.Present===n.Preset:e.MainDescription===n.MainDescription},style:{width:"100%"},defaultValue:_,renderInput:function(e){return(0,f.jsx)(c.Z,(0,t.Z)((0,t.Z)({},e),{},{classes:N,placeholder:g,label:x,error:!!a,helperText:a?a.message:null,onChange:function(e){return M(e.target.value)}}))}})}},733:function(e,n,r){r.d(n,{Z:function(){return I}});var t=r(6151),i=r(2791),o=r(4270),s=r(3168),l=r(364),c=r(3504),a=function(){var e=(0,s.$)().t;return[{href:"/profile",text:e("profile.menu.account")},{href:"/profile/liked_items",text:e("profile.menu.liked")},{href:"/profile/my_orders",text:e("profile.menu.orders")},{href:"/profile/viewed_items",text:e("profile.menu.viewed")},{href:"/profile/settings",text:e("profile.menu.settings")}]},u=r(265),d=r(1272),f=r(1469),h=r(6078),m="ProfileLayout_main__SXx6s",p="ProfileLayout_container__0DoeD",x="ProfileLayout_menu__azYNe",_="ProfileLayout_active__HAHdm",j="ProfileLayout_header__KN308",v="ProfileLayout_exit__tp7VK",g="ProfileLayout_content__OJbal",b="ProfileLayout_mobileMenu__32o0X",N=r(9439),Z={menuButt:"ProfileMobileMenu_menuButt__uY96a",paper:"ProfileMobileMenu_paper__67Nan",header:"ProfileMobileMenu_header__9dgc0",links:"ProfileMobileMenu_links__q6Y4j",active:"ProfileMobileMenu_active__Q+5BF",divider:"ProfileMobileMenu_divider__u1Rva",exit:"ProfileMobileMenu_exit__wPPEh"},C=r(7425),y=r(9953),k=r(3400),M=r(8820),P=r(4721),w=r(184),A=function(e){var n=e.logout,r=e.user,o=(0,s.$)().t,l=(0,i.useState)(!1),u=(0,N.Z)(l,2),d=u[0],f=u[1],h=function(){f(!d)},m=a();return(0,w.jsxs)("div",{children:[(0,w.jsxs)(t.Z,{onClick:h,className:Z.menuButt,children:[(0,w.jsx)("span",{children:"\u041c\u0435\u043d\u044e"}),(0,w.jsx)(C.$Rb,{})]}),(0,w.jsxs)(y.ZP,{anchor:"right",open:d,onClose:h,classes:{root:Z.root,paper:Z.paper},children:[(0,w.jsx)("div",{className:Z.header,children:(0,w.jsx)(k.Z,{onClick:h,className:Z.closeBut,children:(0,w.jsx)(M.oHP,{})})}),(0,w.jsxs)("div",{className:Z.links,children:[m.map((function(e){return(0,w.jsx)(c.OL,{className:function(e){return e.isActive?Z.active:""},to:e.href,end:!0,children:e.text},e.href)})),r&&r.adminLevel>0&&(0,w.jsx)(c.OL,{className:function(e){return e.isActive?Z.active:""},to:"/admin",end:!0,target:"_blank",children:"\u0410\u0434\u043c\u0456\u043d. \u041f\u0430\u043d\u0435\u043b\u044c"}),(0,w.jsx)(P.Z,{className:Z.divider}),(0,w.jsx)(t.Z,{className:Z.exit,onClick:function(){return n()},children:o("auth.logout")})]})]})]})},I=(0,l.$j)((function(e){return{user:e.user.user}}),{logout:u.kS})((function(e){var n=e.children,r=e.title,i=e.logout,l=e.user,u=(0,s.$)().t,N=a();return(0,w.jsxs)(h.Z,{className:m,children:[(0,w.jsx)(o.q,{htmlAttributes:{lang:"ua",amp:void 0},title:"".concat(u("siteName")," | ").concat(u("profile.menu.account")),meta:[{name:"description",content:u("siteDescription")}]}),(0,w.jsxs)(f.Z,{className:p,children:[(0,w.jsxs)(d.Z,{className:x,initial:{opacity:0,x:-50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},duration:.3,children:[N.map((function(e){return(0,w.jsx)(c.OL,{className:function(e){return e.isActive?_:""},to:e.href,end:!0,children:e.text},e.href)})),l&&l.adminLevel>0&&(0,w.jsx)(c.OL,{className:function(e){return e.isActive?_:""},to:"/admin",end:!0,target:"_blank",children:"\u0410\u0434\u043c\u0456\u043d. \u041f\u0430\u043d\u0435\u043b\u044c"})]}),(0,w.jsxs)("div",{className:g,children:[(0,w.jsxs)("div",{className:j,children:[(0,w.jsx)("h4",{children:r}),(0,w.jsx)(t.Z,{className:v,onClick:function(){return i()},children:u("auth.logout")}),(0,w.jsx)("div",{className:b,children:(0,w.jsx)(A,{logout:i,user:l})})]}),n]})]})]})}))}}]);
//# sourceMappingURL=266.fdb84fd0.chunk.js.map