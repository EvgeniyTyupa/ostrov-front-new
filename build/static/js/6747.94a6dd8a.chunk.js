"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[6747],{8129:function(e,r,n){n.r(r),n.d(r,{default:function(){return q}});var t=n(3433),a=n(5861),s=n(9439),o=n(7757),i=n.n(o),l=n(2791),d=n(364),c=n(2958),u=n(8813),h=n(636),f=n(485),m=n(6526),v=n(9313),x=n(6151),p=n(9281),j=n(703),Z=n(9836),g=n(6890),S=n(5855),b=n(3382),B=n(3994),y=n(5447),C=n(9524),w=n(5726),E=n(1134),R=n(793),N=n(7163),_=n(6987),V=n(5831),P=n(184),k=function(e){var r=e.onClose,n=e.addBrand,t=(0,E.cI)(),a=t.handleSubmit,s=t.control,o=t.reset;return(0,P.jsx)(w.Z,{title:"\u041d\u043e\u0432\u044b\u0439 \u0431\u0440\u0435\u043d\u0434",onClose:r,children:(0,P.jsxs)("form",{className:R.Z.main,onSubmit:a((function(e){n(e),o({name:"",image:[]})})),children:[(0,P.jsx)(N.Z,{className:R.Z.row,children:(0,P.jsx)(E.Qr,{name:"name",control:s,defaultValue:"",rules:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},render:function(e){var r=e.field,n=r.onChange,t=r.value,a=e.fieldState.error;return(0,P.jsx)(_.Z,{onChange:n,value:t,error:a,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})}})}),(0,P.jsx)("div",{children:(0,P.jsx)(E.Qr,{name:"image",control:s,rules:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},defaultValue:"",render:function(e){var r=e.field,n=r.onChange,t=r.value,a=e.fieldState.error;return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(V.Z,{onChange:n,initialFiles:t,title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",error:a})})}})}),(0,P.jsx)(x.Z,{className:R.Z.submit,type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})},I=n(4731),z=n(6997),F=function(e){var r=e.onClose,n=e.editBrand,t=e.item,a=(0,E.cI)(),s=a.handleSubmit,o=a.control,i=a.reset,d=function(){r(null)};return(0,l.useEffect)((function(){i({name:t.name||"",image:[t.image]||0})}),[]),(0,P.jsx)(w.Z,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ".concat(t.name),onClose:d,children:(0,P.jsxs)("form",{className:R.Z.main,onSubmit:s((function(e){n(t._id,e)})),children:[(0,P.jsx)(N.Z,{className:R.Z.row,children:(0,P.jsx)(E.Qr,{name:"name",control:o,defaultValue:"",rules:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},render:function(e){var r=e.field,n=r.onChange,t=r.value,a=e.fieldState.error;return(0,P.jsx)(_.Z,{onChange:n,value:t,error:a,label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"})}})}),(0,P.jsx)("div",{children:(0,P.jsx)(E.Qr,{name:"image",control:o,rules:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},defaultValue:"",render:function(e){var r=e.field,n=r.onChange,t=r.value,a=e.fieldState.error;return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)(V.Z,{onChange:n,initialFiles:t,title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",error:a})})}})}),(0,P.jsxs)("div",{className:R.Z.footer,children:[(0,P.jsx)(x.Z,{type:"submit",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"}),(0,P.jsx)(x.Z,{onClick:d,children:"\u041e\u0442\u043c\u0435\u043d\u0430"})]})]})})},M=n(5929),O=n(1272),Q=function(e){var r=e.brands,n=e.pageSize,t=e.pageNumber,a=e.handleChangePage,s=e.handlePageSize,o=e.getBrands,i=e.searchValue,l=e.setSearchValue,d=e.isOpenAddModal,c=e.handleAddModal,u=e.handleRemove,h=e.handleEdit,w=e.total,E=e.currentItem,R=e.addBrand,N=e.editBrand,_=e.deleteBrand,V=e.serverError,Q=e.serverResponse,q=e.openEdit,A=e.openRemove;return(0,P.jsxs)(O.Z,{className:m.Z.main,children:[(Q||V)&&(0,P.jsx)(I.Z,{}),d&&(0,P.jsx)(k,{onClose:c,addBrand:R}),q&&(0,P.jsx)(F,{onClose:h,item:E,editBrand:N,onEdit:h}),A&&(0,P.jsx)(z.Z,{onRemove:u,item:E,deleteItem:_,onClose:u}),(0,P.jsxs)("div",{className:m.Z.header,children:[(0,P.jsx)("h2",{children:"\u0411\u0440\u0435\u043d\u0434\u044b"}),(0,P.jsxs)("div",{className:m.Z.topController,children:[(0,P.jsx)(f.Z,{onSearch:o,pageSize:n,setSearchValue:l,searchValue:i}),(0,P.jsx)(x.Z,{onClick:c,className:m.Z.addBut,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c +"})]})]}),(0,P.jsxs)("div",{className:m.Z.table,children:[(0,P.jsx)(p.Z,{component:j.Z,className:m.Z.tableContainer,children:(0,P.jsxs)(Z.Z,{children:[(0,P.jsx)(g.Z,{children:(0,P.jsx)(S.Z,{children:[{key:"image",text:"",searchByValue:""},{key:"name",text:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",searchByValue:"name"},{key:"last",text:"",searchByValue:""}].map((function(e){return(0,P.jsx)(v.Z,{text:e.text,onSort:o,searchByValue:e.searchByValue,searchValue:i,pageNumber:t,pageSize:n},e.key)}))})}),(0,P.jsx)(b.Z,{children:r.map((function(e){return(0,P.jsxs)(S.Z,{children:[(0,P.jsx)(B.Z,{children:(0,P.jsx)("img",{src:e.image,alt:"image",className:m.Z.imgPreview,referrerpolicy:"no-referrer"})}),(0,P.jsx)(B.Z,{children:e.name}),(0,P.jsx)(B.Z,{width:120,children:(0,P.jsx)(C.Z,{item:e,onRemove:u,onEdit:h})})]},e._id)}))})]})}),0===r.length&&(0,P.jsx)(M.Z,{}),(0,P.jsx)(y.Z,{rowsPerPageOptions:[5,10,20,50],component:"div",rowsPerPage:n,page:t,count:w,onPageChange:a,onRowsPerPageChange:s})]})]})},q=(0,d.$j)((function(e){return{isFetching:e.common.isFetching,brands:e.brands.brands,total:e.brands.total,newBrand:e.brands.newBrand,serverResponse:e.common.serverResponse,serverError:e.common.serverError}}),{getBrands:c.vp,addBrand:c.Y2,editBrand:c.zI,deleteBrand:c.eo,setBrandsData:c.CQ,setNewBrand:c.uR})((function(e){var r=e.isFetching,n=e.getBrands,o=e.addBrand,d=e.editBrand,c=e.deleteBrand,f=e.brands,m=e.total,v=e.newBrand,x=e.setBrandsData,p=e.setNewBrand,j=e.serverResponse,Z=e.serverError,g=(0,l.useState)(20),S=(0,s.Z)(g,2),b=S[0],B=S[1],y=(0,l.useState)(0),C=(0,s.Z)(y,2),w=C[0],E=C[1],R=(0,l.useState)(""),N=(0,s.Z)(R,2),_=N[0],V=N[1],k=(0,l.useState)(!1),I=(0,s.Z)(k,2),z=I[0],F=I[1],M=(0,l.useState)(!1),O=(0,s.Z)(M,2),q=O[0],A=O[1],T=(0,l.useState)(!1),Y=(0,s.Z)(T,2),$=Y[0],D=Y[1],H=(0,l.useState)(null),U=(0,s.Z)(H,2),G=U[0],J=U[1],K=function(){F(!z)},L=function(){var e=(0,a.Z)(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(r);case 2:K();case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),W=function(){var e=(0,a.Z)(i().mark((function e(r,n){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(r,n);case 2:case"end":return e.stop()}}),e)})));return function(r,n){return e.apply(this,arguments)}}();return(0,l.useEffect)((function(){if(v){var e=(0,t.Z)(f),r=e.length;e.forEach((function(n,t){n._id===v._id&&(e.splice(t,1),r=t)})),e.splice(r,0,v),x(e),p(null)}}),[v]),(0,l.useEffect)((function(){n(w+1,b,"","","")}),[b,w]),(0,P.jsxs)(h.Z,{children:[r&&(0,P.jsx)(u.Z,{}),(0,P.jsx)(Q,{brands:f,pageSize:b,pageNumber:w,handleChangePage:function(e,r){E(r)},handlePageSize:function(e){B(e.target.value),E(0)},getBrands:n,searchValue:_,setSearchValue:V,isOpenAddModal:z,handleAddModal:K,handleRemove:function(e){J(e),D(!$)},handleEdit:function(e){J(e),A(!q)},openEdit:q,openRemove:$,total:m,currentItem:G,addBrand:L,editBrand:W,deleteBrand:function(e){c(e).then((function(r){if(r){var n=(0,t.Z)(f);n.forEach((function(r,t){r._id===e&&n.splice(t,1)})),D(!1),x(n)}}))},serverError:Z,serverResponse:j})]})}))},4731:function(e,r,n){n.d(r,{Z:function(){return f}});var t=n(2791),a={main:"ServerResponse_main__uVUyS",fade:"ServerResponse_fade__xbMji",head:"ServerResponse_head__b1YVa",error:"ServerResponse_error__S72kH",good:"ServerResponse_good__Y6wpx"},s=n(3400),o=n(8820),i=n(364),l=n(8297),d=n(7941),c=n(7945),u=n.n(c),h=(n(4655),n(184)),f=(0,i.$j)((function(e){return{serverResponse:e.common.serverResponse,serverError:e.common.serverError}}),{setServerError:l.bo,setServerResponse:l.l$})((function(e){var r=e.setServerError,n=e.setServerResponse,i=e.serverError,l=e.serverResponse,c=function(){r(null),n(null)};return(0,t.useEffect)((function(){var e=setTimeout((function(){c()}),3e3);return function(){return clearTimeout(e)}}),[]),(0,t.useEffect)((function(){u().init({duration:1e3})}),[]),(0,h.jsxs)("div",{className:(0,d.cx)(a.main,i?a.error:"",l?a.good:""),children:[(0,h.jsx)("div",{className:a.head,children:(0,h.jsx)(s.Z,{onClick:c,children:(0,h.jsx)(o.oHP,{})})}),(0,h.jsxs)("div",{className:a.body,children:[l&&(0,h.jsx)("p",{children:l}),i&&(0,h.jsx)("p",{children:i})]})]})}))},6296:function(e,r,n){function t(e){var r,n,t,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,t=Symbol.iterator);s--;){if(n&&null!=(r=e[n]))return r.call(e);if(t&&null!=(r=e[t]))return new a(r.call(e));n="@@asyncIterator",t="@@iterator"}throw new TypeError("Object is not async iterable")}function a(e){function r(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var r=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:r}}))}return a=function(e){this.s=e,this.n=e.next},a.prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):r(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):r(n.apply(this.s,arguments))}},new a(e)}n.d(r,{Z:function(){return t}})}}]);
//# sourceMappingURL=6747.94a6dd8a.chunk.js.map