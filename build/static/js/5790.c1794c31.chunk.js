"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[5790],{8784:function(e,n,t){t.r(n),t.d(n,{default:function(){return re}});var r=t(3433),a=t(5861),i=t(9439),s=t(7757),l=t.n(s),o=t(2791),u=t(364),c=t(322),d=t(8813),h=t(636),m=t(6526),f=t(6151),x=t(9281),p=t(703),v=t(9836),g=t(6890),j=t(5855),Z=t(3382),w=t(3994),_=t(5447),C=t(485),N=t(9313),b=t(4387),S=t(1134),y=t(793),M=t(6987),V=t(7163),E=t(1924),k=t(5726),P=t(8791),R=t(3945),O=t(2560),F=t(8820),B=t(5831),I="NewsContentSection_main__oCq62",q="NewsContentSection_removeContainer__sYhOb",A="NewsContentSection_imgContainer__moW-R",D="Styles_main__hOgfF",z="Styles_editor__gABuW",Q=t(3117),T=t(184),Y=function(e){var n=e.value,t=e.onChange,r=e.label;return(0,T.jsxs)("div",{className:D,children:[r&&(0,T.jsx)("label",{children:r}),(0,T.jsx)(Q.ZP,{value:n,onChange:t,className:z,style:{whiteSpace:"pre-wrap"}})]})},L=function(e){var n=e.control,t=e.index,r=e.onRemove;return(0,T.jsxs)("div",{className:I,children:[(0,T.jsxs)("h4",{children:["\u0421\u0435\u043a\u0446\u0438\u044f ",t+1]}),(0,T.jsx)(S.Qr,{name:"paragraphs_ua.".concat(t,".value"),control:n,defaultValue:"",rules:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},render:function(e){var n=e.field,t=n.onChange,r=n.value;e.fieldState.error;return(0,T.jsx)(Y,{value:r,onChange:t,label:"\u0422\u0435\u043a\u0441\u0442"})}}),(0,T.jsx)("div",{className:A,children:(0,T.jsx)(S.Qr,{name:"images.".concat(t,".value"),control:n,rules:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},defaultValue:"",render:function(e){var n=e.field,r=n.onChange,a=n.value,i=e.fieldState.error;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(B.Z,{onChange:r,error:i,title:"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",id:t,initialFiles:[a]})})}})}),(0,T.jsx)("div",{className:q,children:(0,T.jsxs)(f.Z,{onClick:function(){return r(t)},children:[(0,T.jsx)(F.ywL,{}),"\xa0",(0,T.jsx)("span",{children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]})},W=t(7941),H=function(e){var n=e.onClose,t=e.createNews,r=(0,S.cI)(),a=r.handleSubmit,s=r.control,l=r.reset,u=r.setValue,c=(r.getValues,(0,S.Dq)({control:s,name:"paragraphs_ua"})),d=c.fields,h=c.append,m=c.remove,x=(0,S.Dq)({control:s,name:"images"}),p=(x.fields,x.append),v=x.remove,g=(0,o.useState)(1),j=(0,i.Z)(g,2),Z=j[0],w=j[1],_=[R,O],C=function(e){d.length>1&&(m(e),v(e))};return(0,o.useEffect)((function(){u("type",Z)}),[Z]),(0,o.useEffect)((function(){l({title_ua:"",type:Z,title_image:[],title_image_mobile:[],paragraphs_ua:[{id:1,value:""}],images:[{id:1,value:null}]})}),[]),(0,T.jsx)(k.Z,{title:"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f",onClose:n,children:(0,T.jsxs)("form",{className:y.Z.main,onSubmit:a((function(e){e.paragraphs_ua=e.paragraphs_ua.map((function(e){return e.value})),e.images=e.images.map((function(e){return e.value[0]})),e.title_ua=e.title_ua.trim(),t(e)})),children:[(0,T.jsx)(V.Z,{className:y.Z.row,children:(0,T.jsx)(V.Z,{children:(0,T.jsx)(S.Qr,{name:"title_ua",control:s,defaultValue:"",rules:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},render:function(e){var n=e.field,t=n.onChange,r=n.value,a=e.fieldState.error;return(0,T.jsx)(M.Z,{onChange:t,value:r,error:a,label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a (\u0423\u041a\u0420)"})}})})}),(0,T.jsx)("div",{children:(0,T.jsx)(S.Qr,{name:"title_image",control:s,rules:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},defaultValue:"",render:function(e){var n=e.field,t=n.onChange,r=n.value,a=e.fieldState.error;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(B.Z,{onChange:t,initialFiles:r,title:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 (1060x500px)",error:a,id:-1})})}})}),(0,T.jsx)("div",{children:(0,T.jsx)(S.Qr,{name:"title_image_mobile",control:s,rules:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},defaultValue:"",render:function(e){var n=e.field,t=n.onChange,r=n.value,a=e.fieldState.error;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(B.Z,{onChange:t,initialFiles:r,title:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 (\u0434\u043b\u044f \u043c\u043e\u0431. \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432)",error:a,id:-2})})}})}),(0,T.jsxs)(V.Z,{className:(0,W.cx)(y.Z.row,y.Z.template),children:[(0,T.jsx)("div",{style:{width:"calc(50% - 13px)"},children:(0,T.jsx)(E.Z,{onChange:function(e){return w(e.target.value)},value:Z,label:"\u0422\u0438\u043f",children:P.o8.map((function(e){return(0,T.jsx)(b.Z,{value:e,children:e},e)}))})}),(0,T.jsx)("img",{src:_[Z-1],alt:"schema",className:y.Z.newsSchema})]}),d.map((function(e,n){return(0,T.jsx)(L,{control:s,index:n,onRemove:C},e.id)})),(0,T.jsx)("div",{className:y.Z.addRowContainer,children:(0,T.jsxs)(f.Z,{onClick:function(){h({value:""}),p({value:null})},children:[(0,T.jsx)(F.dEn,{}),(0,T.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u043a\u0446\u0438\u044e"})]})}),(0,T.jsx)(f.Z,{className:y.Z.submit,type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})},K=t(5929),$=function(e){var n=e.onClose,t=e.item,r=e.onEdit,a=(0,S.cI)(),s=a.handleSubmit,l=a.control,u=a.reset,c=(a.getValues,a.setValue),d=(0,o.useState)(t.type),h=(0,i.Z)(d,2),m=h[0],x=h[1],p=[R,O],v=(0,S.Dq)({control:l,name:"paragraphs_ua"}),g=v.fields,j=v.append,Z=v.remove,w=(0,S.Dq)({control:l,name:"images"}),_=(w.fields,w.append),C=w.remove,N=function(e){g.length>1&&(Z(e),C(e))};return(0,o.useEffect)((function(){c("type",m)}),[m]),(0,o.useEffect)((function(){u({title_ua:t.title_ua||"",title_image:[t.title_image]||0,title_image_mobile:[t.title_image_mobile]||0,paragraphs_ua:t.paragraphs_ua.map((function(e,n){return{id:n,value:e}})),images:t.images.map((function(e,n){return{id:n,value:e}}))})}),[]),(0,T.jsx)(k.Z,{title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c ".concat(t.title_ua),onClose:function(){n(null)},children:(0,T.jsxs)("form",{className:y.Z.main,onSubmit:s((function(e){e.paragraphs_ua=e.paragraphs_ua.map((function(e){return e.value})),e.images=e.images.map((function(e){return e.value[0]})),e.title_ua=e.title_ua.trim(),r(t._id,e)})),children:[(0,T.jsx)(V.Z,{className:y.Z.row,children:(0,T.jsx)(V.Z,{children:(0,T.jsx)(S.Qr,{name:"title_ua",control:l,defaultValue:"",rules:{required:"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e\u0435 \u043f\u043e\u043b\u0435!"},render:function(e){var n=e.field,t=n.onChange,r=n.value,a=e.fieldState.error;return(0,T.jsx)(M.Z,{onChange:t,value:r,error:a,label:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a (\u0423\u041a\u0420)"})}})})}),(0,T.jsx)("div",{children:(0,T.jsx)(S.Qr,{name:"title_image",control:l,defaultValue:"",render:function(e){var n=e.field,t=n.onChange,r=n.value,a=e.fieldState.error;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(B.Z,{onChange:t,initialFiles:r,title:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 (1060x500px)",error:a,id:-1})})}})}),(0,T.jsx)("div",{children:(0,T.jsx)(S.Qr,{name:"title_image_mobile",control:l,defaultValue:"",render:function(e){var n=e.field,t=n.onChange,r=n.value,a=e.fieldState.error;return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(B.Z,{onChange:t,initialFiles:r,title:"\u041e\u0431\u043b\u043e\u0436\u043a\u0430 (\u0434\u043b\u044f \u043c\u043e\u0431. \u0443\u0441\u0442\u0440\u043e\u0439\u0441\u0442\u0432)",error:a,id:-2})})}})}),(0,T.jsxs)(V.Z,{className:(0,W.cx)(y.Z.row,y.Z.template),children:[(0,T.jsx)("div",{style:{width:"calc(50% - 13px)"},children:(0,T.jsx)(E.Z,{onChange:function(e){return x(e.target.value)},value:m,label:"\u0422\u0438\u043f",children:P.o8.map((function(e){return(0,T.jsx)(b.Z,{value:e,children:e},e)}))})}),(0,T.jsx)("img",{src:p[m-1],alt:"schema",className:y.Z.newsSchema})]}),g.map((function(e,n){return(0,T.jsx)(L,{control:l,index:n,onRemove:N},e.id)})),(0,T.jsx)("div",{className:y.Z.addRowContainer,children:(0,T.jsxs)(f.Z,{onClick:function(){j({value:""}),_({value:null})},children:[(0,T.jsx)(F.dEn,{}),(0,T.jsx)("span",{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0435\u043a\u0446\u0438\u044e"})]})}),(0,T.jsx)(f.Z,{className:y.Z.submit,type:"submit",children:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"})]})})},G=t(9524),J=t(2426),U=t.n(J),X=t(6997),ee=t(8200),ne=t(1272),te=function(e){var n=e.getNews,t=e.pageSize,r=e.setSearchValue,a=e.searchValue,i=e.handleAddModal,s=e.isOpenAddModal,l=e.handleEdit,o=e.handleRemove,u=e.openEdit,c=e.openRemove,d=e.pageNumber,h=e.news,b=e.total,S=e.handleChangePage,y=e.handlePageSize,M=e.currentItem,V=e.handleAddPost,E=e.deleteNews,k=e.editNews,P=e.setViewOnMain;return(0,T.jsxs)(ne.Z,{className:m.Z.main,children:[s&&(0,T.jsx)(H,{onClose:i,createNews:V}),u&&(0,T.jsx)($,{onClose:l,item:M,onEdit:k}),c&&(0,T.jsx)(X.Z,{onRemove:o,item:M,deleteItem:E,onClose:o}),(0,T.jsxs)("div",{className:m.Z.header,children:[(0,T.jsx)("h2",{children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"}),(0,T.jsxs)("div",{className:m.Z.topController,children:[(0,T.jsx)(C.Z,{onSearch:n,pageSize:t,setSearchValue:r,searchValue:a}),(0,T.jsx)(f.Z,{onClick:i,className:m.Z.addBut,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c +"})]})]}),(0,T.jsxs)("div",{className:m.Z.table,children:[(0,T.jsx)(x.Z,{component:p.Z,className:m.Z.tableContainer,children:(0,T.jsxs)(v.Z,{children:[(0,T.jsx)(g.Z,{children:(0,T.jsx)(j.Z,{children:[{key:"name",text:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",searchByValue:"title_ua"},{key:"viewOnMain",text:"\u041f\u043e\u043a\u0430\u0437\u044b\u0432\u0430\u0442\u044c \u043d\u043e\u0432\u043e\u0441\u0442\u044c \u0432 \u0430\u043a\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u043c",searchByValue:"viewOnMain"},{key:"date",text:"\u0414\u0430\u0442\u0430 \u043f\u0443\u0431\u043b\u0438\u043a\u0430\u0446\u0438\u0438",searchByValue:"created_at"},{key:"last",text:"",searchByValue:""}].map((function(e){return(0,T.jsx)(N.Z,{text:e.text,onSort:n,searchByValue:e.searchByValue,searchValue:a,pageNumber:d,pageSize:t},e.key)}))})}),(0,T.jsx)(Z.Z,{children:h.map((function(e){return(0,T.jsxs)(j.Z,{children:[(0,T.jsx)(w.Z,{children:e.title_ua}),(0,T.jsx)(w.Z,{children:(0,T.jsx)(ee.Z,{checked:e.viewOnMain,onChange:function(){return P(e._id)}})}),(0,T.jsx)(w.Z,{width:"25%",children:U()(e.createdAt).format("DD/MM/YYYY")}),(0,T.jsx)(w.Z,{width:120,children:(0,T.jsx)(G.Z,{item:e,onRemove:o,onEdit:l})})]},e._id)}))})]})}),0===h.length&&(0,T.jsx)(K.Z,{}),(0,T.jsx)(_.Z,{rowsPerPageOptions:[5,10,20,50],component:"div",rowsPerPage:t,page:d,count:b,onPageChange:S,onRowsPerPageChange:y})]})]})},re=(0,u.$j)((function(e){return{isFetching:e.common.isFetching,serverResponse:e.common.serverResponse,serverError:e.common.serverError,news:e.news.news,total:e.news.total,newNews:e.news.newNews}}),{getNews:c.dD,addPost:c.q2,setNewsData:c.Eh,setNewNews:c.K7,deleteNews:c.kN,editNews:c.f_,setViewOnMain:c.sL})((function(e){var n=e.isFetching,t=e.serverError,s=e.serverResponse,u=e.getNews,c=e.news,m=e.total,f=e.addPost,x=e.newNews,p=e.setNewNews,v=e.setNewsData,g=e.deleteNews,j=e.editNews,Z=e.setViewOnMain,w=(0,o.useState)(20),_=(0,i.Z)(w,2),C=_[0],N=_[1],b=(0,o.useState)(0),S=(0,i.Z)(b,2),y=S[0],M=S[1],V=(0,o.useState)(""),E=(0,i.Z)(V,2),k=E[0],P=E[1],R=(0,o.useState)(!1),O=(0,i.Z)(R,2),F=O[0],B=O[1],I=(0,o.useState)(!1),q=(0,i.Z)(I,2),A=q[0],D=q[1],z=(0,o.useState)(!1),Q=(0,i.Z)(z,2),Y=Q[0],L=Q[1],W=(0,o.useState)(null),H=(0,i.Z)(W,2),K=H[0],$=H[1],G=function(){B(!F)},J=function(){var e=(0,a.Z)(l().mark((function e(n){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(n);case 2:G();case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),U=function(){var e=(0,a.Z)(l().mark((function e(n,t){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(n,t);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){if(x){var e=(0,r.Z)(c),n=e.length;e.forEach((function(t,r){t._id===x._id&&(e.splice(r,1),n=r)})),e.splice(n,0,x),v(e),p(null)}}),[x]),(0,o.useEffect)((function(){u(y+1,C,"","","")}),[C,y]),(0,T.jsxs)(h.Z,{children:[n&&(0,T.jsx)(d.Z,{}),(0,T.jsx)(te,{serverResponse:s,serverError:t,pageSize:C,pageNumber:y,isOpenAddModal:F,openEdit:A,openRemove:Y,handleAddModal:G,handleChangePage:function(e,n){M(n)},handlePageSize:function(e){N(e.target.value),M(0)},handleRemove:function(e){$(e),L(!Y)},handleEdit:function(e){$(e),D(!A)},searchValue:k,setSearchValue:P,currentItem:K,getNews:u,news:c,total:m,handleAddPost:J,deleteNews:function(e){g(e).then((function(){var n=(0,r.Z)(c);n.forEach((function(t,r){(t._id=e)&&n.splice(r,1)})),L(!1),v(n)}))},editNews:U,setViewOnMain:Z})]})}))},8200:function(e,n,t){t(2791);var r=t(4454),a=t(5523),i=t(5229),s=t(184),l=(0,i.Z)((function(e){return{root:{color:"#677bc5","&.Mui-checked":{color:"#4B5EA3 !important"}}}}));n.Z=function(e){var n=l(),t=e.label,i=void 0===t?"":t,o=e.checked,u=e.onChange,c=e.size,d=void 0===c?"medium":c,h=e.disabled,m=void 0!==h&&h;return(0,s.jsx)(a.Z,{style:{margin:0},control:(0,s.jsx)(r.Z,{checked:o,classes:n,onChange:u,size:d,disabled:m}),label:i})}},1924:function(e,n,t){var r=t(4942),a=t(7391),i=(t(2791),t(5229)),s=t(184),l=(0,i.Z)((function(e){var n;return{root:{"& .MuiMenuItem-root .MuiMenuItem-gutters .MuiButtonBase-root":{display:"flex !important"},"& .MuiMenuItem-root":{display:"flex"},"& label.Mui-focused":{color:"#4B5EA3"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#4B5EA3"},"& .MuiOutlinedInput-root":(n={borderRadius:0},(0,r.Z)(n,"borderRadius","4px"),(0,r.Z)(n,"backgroundColor","white"),n),"& .MuiFormHelperText-root.Mui-error":{margin:0,marginTop:5},"& .MuiList-root .MuiList-padding .MuiMenu-list":{display:"flex",flexDirection:"column"}}}}));n.Z=function(e){var n=e.value,t=e.onChange,r=e.label,i=e.error,o=e.children,u=e.variant,c=void 0===u?"outlined":u,d=l();return(0,s.jsx)(a.Z,{value:n,label:r,autoComplete:"off",error:!!i,variant:c,helperText:i?i.message:null,onChange:t,select:!0,classes:d,children:o})}},3945:function(e,n,t){e.exports=t.p+"static/media/news_schema_1.f41a4d86d51587016668.jpg"},2560:function(e,n,t){e.exports=t.p+"static/media/news_schema_2.e508c968c6b5c56b8c4d.jpg"},6296:function(e,n,t){function r(e){var n,t,r,i=2;for("undefined"!=typeof Symbol&&(t=Symbol.asyncIterator,r=Symbol.iterator);i--;){if(t&&null!=(n=e[t]))return n.call(e);if(r&&null!=(n=e[r]))return new a(n.call(e));t="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function a(e){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var n=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:n}}))}return a=function(e){this.s=e,this.n=e.next},a.prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):n(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):n(t.apply(this.s,arguments))}},new a(e)}t.d(n,{Z:function(){return r}})}}]);
//# sourceMappingURL=5790.c1794c31.chunk.js.map