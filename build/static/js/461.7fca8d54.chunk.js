"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[461],{6820:function(e,r,t){t.d(r,{Z:function(){return s}});t(2791);var o=t(3168),n=t(364),a=t(3504),c="Breadcrumbs_main__Pfxmq",i="Breadcrumbs_block__esy2n",l=t(184),s=(0,n.$j)((function(e){return{currentlanguage:e.common.currentlanguage}}),null)((function(e){e.currentlanguage;var r=e.active,t=e.items,n=(0,o.$)().t;return(0,l.jsxs)("div",{className:c,children:[(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)(a.OL,{to:"/",children:n("navigation.breadcrumbMain")}),(0,l.jsx)("span",{children:">"})]}),t&&t.map((function(e){return(0,l.jsxs)("div",{className:i,children:[(0,l.jsx)(a.OL,{to:e.href,children:e.title}),(0,l.jsx)("span",{children:">"})]},e.href)})),(0,l.jsx)("p",{children:r})]})}))},5239:function(e,r,t){var o=t(1413),n=t(885),a=t(4942),c=t(2791),i=t(7227),l=t(7391),s=t(5229),u=t(1879),d=t(3168),m=t(184),h=(0,s.Z)((function(e){return{root:{background:"white","& label.Mui-focused":{color:"#4B5EA3"},"& .MuiOutlinedInput-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderColor:"#4B5EA3"},"& .MuiOutlinedInput-root":(0,a.Z)({borderRadius:0},"borderRadius","4px"),"& .MuiFormHelperText-root.Mui-error":{margin:0,marginTop:5},"& .MuiAutocomplete-endAdornment":{width:"fit-content !important"}}}}));r.Z=function(e){var r=e.onSearch,t=e.items,a=e.value,s=e.error,f=e.setValue,p=e.name,v=e.label,x=e.defaultValue,g=e.city,j=e.setCurrentValue,_=e.placeholder,b=e.disabled,C=h(),y=(0,d.$)().t,k=(0,c.useState)(""),Z=(0,n.Z)(k,2),N=Z[0],S=Z[1],P=(0,u.Z)(N,500);return(0,c.useEffect)((function(){P&&("city"===p?r(N):"warehouse"===p&&g&&r(g.MainDescription,N))}),[P,g]),(0,c.useEffect)((function(){0===N.length&&f(p,null)}),[N]),(0,m.jsx)(i.Z,{disablePortal:!0,disabled:b,options:t,value:a,noOptionsText:y("catalog.empty"),getOptionLabel:function(e){return e.Present?e.Present:e.Description},onChange:function(e,r){f(p,r),"city"===p&&j(r)},onClose:function(e){return S("")},filterSelectedOptions:!0,limitTags:150,isOptionEqualToValue:function(e,r){return e.Present?e.Present===r.Preset:e.MainDescription===r.MainDescription},style:{width:"100%"},defaultValue:x,renderInput:function(e){return(0,m.jsx)(l.Z,(0,o.Z)((0,o.Z)({},e),{},{classes:C,placeholder:_,label:v,error:!!s,helperText:s?s.message:null,onChange:function(e){return S(e.target.value)}}))}})}},9461:function(e,r,t){t.r(r),t.d(r,{default:function(){return Pe}});var o=t(885),n=t(2791),a=t(364),c=t(6871),i=t(8813),l=t(8297),s=t(8908),u=t(8845),d=t(6151),m=t(3168),h=t(3504),f=t(7462),p=t(3366),v=t(8182),x=t(767),g=t(5916),j=t(1046),_=t(5159),b=t(208);function C(e){return(0,_.Z)("MuiFormGroup",e)}(0,b.Z)("MuiFormGroup",["root","row"]);var y=t(184),k=["className","row"],Z=(0,g.ZP)("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,t.row&&r.row]}})((function(e){var r=e.ownerState;return(0,f.Z)({display:"flex",flexDirection:"column",flexWrap:"wrap"},r.row&&{flexDirection:"row"})})),N=n.forwardRef((function(e,r){var t=(0,j.Z)({props:e,name:"MuiFormGroup"}),o=t.className,n=t.row,a=void 0!==n&&n,c=(0,p.Z)(t,k),i=(0,f.Z)({},t,{row:a}),l=function(e){var r=e.classes,t={root:["root",e.row&&"row"]};return(0,x.Z)(t,C,r)}(i);return(0,y.jsx)(Z,(0,f.Z)({className:(0,v.Z)(l.root,o),ownerState:i,ref:r},c))})),S=t(2071),P=t(8278);var M=n.createContext(void 0),w=t(7384),D=["actions","children","defaultValue","name","onChange","value"],O=n.forwardRef((function(e,r){var t=e.actions,a=e.children,c=e.defaultValue,i=e.name,l=e.onChange,s=e.value,u=(0,p.Z)(e,D),d=n.useRef(null),m=(0,P.Z)({controlled:s,default:c,name:"RadioGroup"}),h=(0,o.Z)(m,2),v=h[0],x=h[1];n.useImperativeHandle(t,(function(){return{focus:function(){var e=d.current.querySelector("input:not(:disabled):checked");e||(e=d.current.querySelector("input:not(:disabled)")),e&&e.focus()}}}),[]);var g=(0,S.Z)(r,d),j=(0,w.Z)(i);return(0,y.jsx)(M.Provider,{value:{name:j,onChange:function(e){x(e.target.value),l&&l(e,e.target.value)},value:v},children:(0,y.jsx)(N,(0,f.Z)({role:"radiogroup",ref:g},u,{children:a}))})})),V=t(68),F=t(3400),q=t(5523),A=t(1134),R=t(9126),B=t(6856),E=t(5833),T=t(7941),I=t(8791),z=t(5239),Q=t(6987),L=t(2931),W=t(4942),U=t(2065),$=t(7278),G=t(9201),H=(0,G.Z)((0,y.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),Y=(0,G.Z)((0,y.jsx)("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),J=(0,g.ZP)("span")({position:"relative",display:"flex"}),X=(0,g.ZP)(H,{skipSx:!0})({transform:"scale(1)"}),K=(0,g.ZP)(Y,{skipSx:!0})((function(e){var r=e.theme,t=e.ownerState;return(0,f.Z)({left:0,position:"absolute",transform:"scale(0)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeIn,duration:r.transitions.duration.shortest})},t.checked&&{transform:"scale(1)",transition:r.transitions.create("transform",{easing:r.transitions.easing.easeOut,duration:r.transitions.duration.shortest})})}));var ee=function(e){var r=e.checked,t=void 0!==r&&r,o=e.classes,n=void 0===o?{}:o,a=e.fontSize,c=(0,f.Z)({},e,{checked:t});return(0,y.jsxs)(J,{className:n.root,ownerState:c,children:[(0,y.jsx)(X,{fontSize:a,className:n.background,ownerState:c}),(0,y.jsx)(K,{fontSize:a,className:n.dot,ownerState:c})]})},re=t(4036),te=t(1260);function oe(e){return(0,_.Z)("MuiRadio",e)}var ne=(0,b.Z)("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),ae=["checked","checkedIcon","color","icon","name","onChange","size"],ce=(0,g.ZP)($.Z,{shouldForwardProp:function(e){return(0,g.FO)(e)||"classes"===e},name:"MuiRadio",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,r["color".concat((0,re.Z)(t.color))]]}})((function(e){var r=e.theme,t=e.ownerState;return(0,f.Z)({color:r.palette.text.secondary,"&:hover":{backgroundColor:(0,U.Fq)("default"===t.color?r.palette.action.active:r.palette[t.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==t.color&&(0,W.Z)({},"&.".concat(ne.checked),{color:r.palette[t.color].main}),(0,W.Z)({},"&.".concat(ne.disabled),{color:r.palette.action.disabled}))}));var ie=(0,y.jsx)(ee,{checked:!0}),le=(0,y.jsx)(ee,{}),se=n.forwardRef((function(e,r){var t,o,a,c,i=(0,j.Z)({props:e,name:"MuiRadio"}),l=i.checked,s=i.checkedIcon,u=void 0===s?ie:s,d=i.color,m=void 0===d?"primary":d,h=i.icon,v=void 0===h?le:h,g=i.name,_=i.onChange,b=i.size,C=void 0===b?"medium":b,k=(0,p.Z)(i,ae),Z=(0,f.Z)({},i,{color:m,size:C}),N=function(e){var r=e.classes,t=e.color,o={root:["root","color".concat((0,re.Z)(t))]};return(0,f.Z)({},r,(0,x.Z)(o,oe,r))}(Z),S=n.useContext(M),P=l,w=(0,te.Z)(_,S&&S.onChange),D=g;return S&&("undefined"===typeof P&&(a=S.value,P="object"===typeof(c=i.value)&&null!==c?a===c:String(a)===String(c)),"undefined"===typeof D&&(D=S.name)),(0,y.jsx)(ce,(0,f.Z)({type:"radio",icon:n.cloneElement(v,{fontSize:null!=(t=le.props.fontSize)?t:C}),checkedIcon:n.cloneElement(u,{fontSize:null!=(o=ie.props.fontSize)?o:C}),ownerState:Z,classes:N,name:D,checked:P,onChange:w,ref:r},k))})),ue=(0,t(5229).Z)((function(e){return{root:{"& .MuiTypography-root":{fontFamily:"Montserrat"},"& .MuiRadio-root.Mui-checked":{color:"#4B5EA3 !important"},"& .MuiRadio-root:hover":{backgroundColor:"rgba(75, 94, 163, 0.04)"}}}})),de=function(e){var r=e.label,t=e.labelAlign,o=e.value,n=ue();return(0,y.jsx)(q.Z,{classes:n,control:(0,y.jsx)(se,{value:o}),label:r,labelPlacement:t})},me=t(7163),he={main:"CheckoutForm_main__-TXpk",radioTypes:"CheckoutForm_radioTypes__uYx9i",mailOffice:"CheckoutForm_mailOffice__DhVrq",field:"CheckoutForm_field__xThQq",person:"CheckoutForm_person__oV33k",fields:"CheckoutForm_fields__remKm",row:"CheckoutForm_row__KqTL9",payment:"CheckoutForm_payment__N6g9e",comment:"CheckoutForm_comment__UbP6n",viewComment:"CheckoutForm_viewComment__csVwn",commentField:"CheckoutForm_commentField__SLPxZ",openComment:"CheckoutForm_openComment__ZatWT",recall:"CheckoutForm_recall__yelqM",submit:"CheckoutForm_submit__kjd3v"},fe=(0,a.$j)((function(e){return{user:e.user.user,cities:e.common.searchingCities,npWarehouses:e.common.npWarehouses,isAuth:e.user.isAuth,totalSum:e.cart.totalSum}}),{getWarehouses:l.aM,getCities:l.MC,setDeliveryPrice:E.h5,createOrderWithMailPost:s.Yi})((function(e){var r=e.user,t=e.getWarehouses,a=e.getCities,c=e.cities,i=e.npWarehouses,l=e.isAuth,s=e.setDeliveryPrice,u=e.totalSum,h=e.actionDiscount,f=e.gift,p=e.items,v=e.userDiscount,x=e.deliveryPrice,g=e.createOrderWithMailPost,j=e.currentPromocode,_=(0,A.cI)(),b=_.handleSubmit,C=_.reset,k=_.control,Z=_.setValue,N=(0,m.$)().t,S=(0,n.useState)("me"),P=(0,o.Z)(S,2),M=P[0],w=P[1],D=(0,n.useState)("mailOffice"),E=(0,o.Z)(D,2),W=E[0],U=E[1],$=(0,n.useState)(null),G=(0,o.Z)($,2),H=G[0],Y=G[1],J=(0,n.useState)(!1),X=(0,o.Z)(J,2),K=X[0],ee=X[1],re=(0,n.useState)(!0),te=(0,o.Z)(re,2),oe=te[0],ne=te[1],ae=function(e){e.delivery_type=W,e.approved=oe,e.discount=h.toString().includes("%")?Number(h.replace("%",""))+v+"%":((x+u)/100*v+Number(h))/(u+x)*100,e.total=u,e.delivery_price=x,e.finaly_sum=h.toString().includes("%")?Math.ceil(Number(e.total)+Number(e.delivery_price)-(Number(e.total)+Number(e.delivery_price))/100*(Number(h.replace("%",""))+v)):Math.ceil(Number(e.total)+Number(e.delivery_price)-((x+u)/100*v+Number(h))),j?j.discount.toString().includes("%")?h.toString().includes("%")?e.finaly_sum=Math.ceil(Number(e.total)+Number(e.delivery_price)-(Number(e.total)+Number(e.delivery_price))/100*(Number(h.replace("%",""))+v+Number(j.discount.replace("%","")))):e.finaly_sum=Math.ceil(x+u-((x+u)/100*(v+Number(j.discount.replace("%","")))+Number(h))):h.toString().includes("%")?e.finaly_sum=Math.ceil(Number(e.total)+Number(e.delivery_price)-(Number(e.total)+Number(e.delivery_price))/100*(Number(h.replace("%",""))+v+Number(j.discount)/(u+x)*100)):e.finaly_sum=Math.ceil(Number(e.total)+Number(e.delivery_price)-((x+u)/100*v+Number(h)+Number(j.discount))):h.toString().includes("%")?e.finaly_sum=Math.ceil(Number(e.total)+Number(e.delivery_price)-(Number(e.total)+Number(e.delivery_price))/100*(Number(h.replace("%",""))+v)):e.finaly_sum=Math.ceil(Number(e.total)+Number(e.delivery_price)-((x+u)/100*v+Number(h))),j&&(e.promocode=j._id),e.receiver_info={first_name:e.first_name,last_name:e.last_name,email:e.email,phone:"+380"+e.phone,city:e.city,warehouse:e.warehouse,street:e.street,build:e.build,appartment:e.appartment},r&&(e.user=r._id);var t=[];p.forEach((function(e){t.push({count:e.count,item:e.item._id})})),e.items=t;var o=[];f.forEach((function(e){o.push({count:1,item:e._id})})),e.gift=o,g(e)};return(0,n.useEffect)((function(){r&&"me"===M&&(Y(r.city),C({first_name:r.first_name,last_name:r.last_name,phone:r.phone?r.phone.substring(4):"",email:r.email,city:r.city?r.city:null,warehouse:r.warehouse?r.warehouse:null,payment_type:"receive",comment:"",street:"",build:"",appartment:""})),r&&"other"===M?(Y(r.city),C({first_name:"",last_name:"",phone:"",email:"",city:r.city?r.city:null,warehouse:null,payment_type:"receive",comment:""})):r||C({city:null,warehouse:null,first_name:"",last_name:"",phone:"",email:"",payment_type:"receive",comment:"",street:"",build:"",appartment:""})}),[r,M,W]),(0,n.useEffect)((function(){H&&"mailOffice"===W&&t(H.MainDescription,"")}),[H]),(0,n.useEffect)((function(){"courier"===W&&(u>=I.v_?s(0):s(I.B6)),"mailOffice"===W&&(u>=I.wn?s(0):s(I.jg))}),[W,u]),(0,y.jsx)("div",{className:he.main,children:(0,y.jsxs)("form",{onSubmit:b(ae),children:[l&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("h4",{children:N("checkout.receiverType")}),(0,y.jsx)("div",{className:he.radioTypes,children:(0,y.jsxs)(O,{row:!0,value:M,onChange:function(e){w(e.target.value)},style:{gap:"45px"},children:[(0,y.jsx)(de,{label:N("checkout.receiverMe"),labelAlign:"end",value:"me"}),(0,y.jsx)(de,{label:N("checkout.receiverOther"),labelAlign:"end",value:"other"})]})})]}),(0,y.jsxs)("div",{className:he.person,children:[(0,y.jsx)("h4",{children:N("checkout.personTitle")}),(0,y.jsxs)("div",{className:he.fields,children:[(0,y.jsxs)(me.Z,{className:he.row,children:[(0,y.jsx)(A.Qr,{name:"first_name",control:k,defaultValue:"",rules:{required:N("errors.required")},render:function(e){var r=e.field,t=r.onChange,o=r.value,n=e.fieldState.error;return(0,y.jsx)(Q.Z,{onChange:t,value:o,error:n,label:N("profile.account.name")})}}),(0,y.jsx)(A.Qr,{name:"last_name",control:k,defaultValue:"",rules:{required:N("errors.required")},render:function(e){var r=e.field,t=r.onChange,o=r.value,n=e.fieldState.error;return(0,y.jsx)(Q.Z,{onChange:t,value:o,error:n,label:N("profile.account.form.last_name")})}})]}),(0,y.jsxs)(me.Z,{className:he.row,children:[(0,y.jsx)(A.Qr,{name:"phone",control:k,defaultValue:"",rules:{required:N("errors.required")},render:function(e){var r=e.field,t=r.onChange,o=r.value,n=e.fieldState.error;return(0,y.jsx)(Q.Z,{onChange:t,error:n,value:o,regex:"number",startAdornment:!0,startAdornmentIcon:(0,y.jsx)("span",{children:"+380"})})}}),(0,y.jsx)(A.Qr,{name:"email",control:k,defaultValue:"",rules:{pattern:{value:/^[A-Za-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}/,message:N("errors.email")}},render:function(e){var r=e.field,t=r.onChange,o=r.value,n=e.fieldState.error;return(0,y.jsx)("div",{className:he.emailContainer,children:(0,y.jsx)(Q.Z,{onChange:t,placeholder:N("checkout.notRequired"),value:o,error:n,label:"Email",startAdornment:!0,startAdornmentIcon:(0,y.jsx)(B.yr3,{})})})}})]})]})]}),(0,y.jsx)("h4",{children:N("checkout.deliveryType")}),(0,y.jsx)("div",{className:he.radioTypes,children:(0,y.jsxs)(O,{row:!0,value:W,onChange:function(e){U(e.target.value)},style:{gap:"45px"},children:[(0,y.jsx)(de,{label:N("checkout.office"),labelAlign:"end",value:"mailOffice"}),(0,y.jsx)(de,{label:N("checkout.courier"),labelAlign:"end",value:"courier"})]})}),"mailOffice"===W&&(0,y.jsxs)("div",{className:he.mailOffice,children:[(0,y.jsxs)(me.Z,{className:he.field,children:[(0,y.jsx)("label",{children:N("profile.account.form.city")}),(0,y.jsx)(A.Qr,{name:"city",control:k,defaultValue:null,rules:{required:N("errors.required")},render:function(e){var r=e.field,t=r.onChange,o=r.value,n=e.fieldState.error;return(0,y.jsx)(z.Z,{value:o,onChange:t,error:n,items:c,setValue:Z,name:"city",disabled:!1,onSearch:a,setCurrentValue:Y,placeholder:N("profile.account.form.city")})}})]}),(0,y.jsxs)(me.Z,{className:(0,T.cx)(he.field,he.lastField),children:[(0,y.jsx)("label",{children:N("profile.account.form.postNumber")}),(0,y.jsx)(A.Qr,{name:"warehouse",control:k,defaultValue:null,rules:{required:N("errors.required")},render:function(e){var r=e.field,o=r.onChange,n=r.value,a=e.fieldState.error;return(0,y.jsx)(z.Z,{value:n,error:a,onChange:o,items:i,setValue:Z,name:"warehouse",disabled:!H,onSearch:t,city:H,placeholder:N("profile.account.form.number")})}})]})]}),"courier"===W&&(0,y.jsxs)("div",{className:he.courier,children:[(0,y.jsxs)(me.Z,{className:he.field,children:[(0,y.jsx)("label",{children:N("profile.account.form.city")}),(0,y.jsx)(A.Qr,{name:"city",control:k,defaultValue:null,rules:{required:N("errors.required")},render:function(e){var r=e.field,t=r.onChange,o=r.value,n=e.fieldState.error;return(0,y.jsx)(z.Z,{value:o,onChange:t,error:n,items:c,setValue:Z,name:"city",disabled:!1,onSearch:a,setCurrentValue:Y,placeholder:N("profile.account.form.city")})}})]}),(0,y.jsxs)(me.Z,{className:he.row,children:[(0,y.jsxs)(me.Z,{className:he.field,children:[(0,y.jsx)("label",{children:N("checkout.street")}),(0,y.jsx)(A.Qr,{name:"street",control:k,defaultValue:"",rules:{required:N("errors.required")},render:function(e){var r=e.field,t=r.onChange,o=r.value,n=e.fieldState.error;return(0,y.jsx)(Q.Z,{onChange:t,error:n,value:o,placeholder:N("checkout.street")})}})]}),(0,y.jsxs)(me.Z,{className:he.field,children:[(0,y.jsx)("label",{children:N("checkout.build")}),(0,y.jsx)(A.Qr,{name:"build",control:k,defaultValue:"",rules:{required:N("errors.required")},render:function(e){var r=e.field,t=r.onChange,o=r.value,n=e.fieldState.error;return(0,y.jsx)(Q.Z,{onChange:t,error:n,value:o,placeholder:N("checkout.build")})}})]}),(0,y.jsxs)(me.Z,{className:he.field,children:[(0,y.jsx)("label",{children:N("checkout.appartment")}),(0,y.jsx)(A.Qr,{name:"appartment",control:k,defaultValue:"",rules:{required:N("errors.required")},render:function(e){var r=e.field,t=r.onChange,o=r.value,n=e.fieldState.error;return(0,y.jsx)(Q.Z,{onChange:t,error:n,value:o,placeholder:N("checkout.appartment")})}})]})]})]}),(0,y.jsxs)("div",{className:he.payment,children:[(0,y.jsx)("h4",{children:N("checkout.paymentType")}),(0,y.jsx)(A.Qr,{name:"payment_type",control:k,defaultValue:"receive",render:function(e){var r=e.field,t=r.onChange,o=r.value;e.fieldState.error;return(0,y.jsxs)(O,{row:!0,value:o,onChange:t,style:{gap:"45px"},children:[(0,y.jsxs)("div",{children:[(0,y.jsx)(de,{label:N("checkout.paymentReceive.text"),labelAlign:"end",value:"receive"}),(0,y.jsx)(V.Z,{title:N("checkout.paymentReceive.tooltip"),children:(0,y.jsx)(F.Z,{style:{fontSize:"18px",color:"#4B5EA3",padding:0},children:(0,y.jsx)(R.gH_,{})})})]}),(0,y.jsxs)("div",{children:[(0,y.jsx)(de,{label:N("checkout.paymentCreditCard.text"),labelAlign:"end",value:"online"}),(0,y.jsx)(V.Z,{title:N("checkout.paymentCreditCard.tooltip"),children:(0,y.jsx)(F.Z,{style:{fontSize:"18px",color:"#4B5EA3",padding:0},children:(0,y.jsx)(R.gH_,{})})})]})]})}})]}),(0,y.jsxs)("div",{className:he.comment,children:[(0,y.jsx)("span",{onClick:function(){ee(!K)},className:he.viewComment,children:N("checkout.addComment")}),(0,y.jsx)("div",{className:(0,T.cx)(he.commentField,K?he.openComment:""),children:(0,y.jsx)(A.Qr,{name:"comment",control:k,defaultValue:"",render:function(e){var r=e.field,t=r.onChange,o=r.value,n=e.fieldState.error;return(0,y.jsx)(Q.Z,{onChange:t,value:o,error:n,multiline:!0,rows:6,placeholder:N("checkout.addCommentPlaceholder")})}})})]}),(0,y.jsxs)("div",{className:he.recall,children:[(0,y.jsx)(q.Z,{style:{marginLeft:"0"},control:(0,y.jsx)(L.Z,{onChange:function(){ne(!oe)},checked:oe}),label:N("checkout.recall")}),(0,y.jsx)(V.Z,{title:N("checkout.recallTooltip"),children:(0,y.jsx)(F.Z,{style:{fontSize:"18px",color:"#4B5EA3",padding:0},children:(0,y.jsx)(R.gH_,{})})})]}),(0,y.jsx)(d.Z,{onClick:b(ae),className:he.submit,children:N("checkout.submit")})]})})})),pe=t(6820),ve=t(3270),xe=t(6156),ge=t(1469),je=t(6078),_e=t(6434),be=t(5920),Ce={main:"Checkout_main__uPCbE",sides:"Checkout_sides__A3xDn",left:"Checkout_left__32RtX",right:"Checkout_right__aAk60",card:"Checkout_card__cBoJJ",list:"Checkout_list__fgcaq",header:"Checkout_header__cr9BN",items:"Checkout_items__3ARBi",fieldCard:"Checkout_fieldCard__zlGSO",fieldTotal:"Checkout_fieldTotal__X+MZo",promocodeBlock:"Checkout_promocodeBlock__MvRBR",addPromocodeButt:"Checkout_addPromocodeButt__CncLd",promoInputBlock:"Checkout_promoInputBlock__7pqr2",openPromo:"Checkout_openPromo__2YgYO",submitPromoBut:"Checkout_submitPromoBut__Bht5I",promoSuccess:"Checkout_promoSuccess__v6e06"},ye=t(7692),ke=t(5627),Ze=t(1272),Ne=t(4270),Se=function(e){var r=e.items,t=e.totalSum,a=e.totalCount,c=e.deliveryPrice,i=e.actionDiscount,l=e.gift,s=e.userDiscount,u=e.orderDone,f=e.serverMessage,p=e.closeOrderDoneModal,v=e.isUsePromocode,x=e.handleUsePromocode,g=e.promocodeValue,j=e.setPromocodeValue,_=e.checkPromocode,b=e.currentPromocode,C=e.receivePromocodeStatus,k=e.currentLanguage,Z=(0,m.$)().t,N=[{href:"/shopping_cart",title:Z("shopping_cart.cart")}],S=(0,n.useState)("0"),P=(0,o.Z)(S,2),M=P[0],w=P[1];return(0,n.useEffect)((function(){b?b.discount.toString().includes("%")?i.toString().includes("%")?w(Number(i.replace("%",""))+Number(b.discount.replace("%",""))+s+"%"):w(Math.ceil((c+t)/100*(s+Number(b.discount.replace("%","")))+Number(i))):i.toString().includes("%")?w(Number(i.replace("%",""))+s+Number(b.discount)/(t+c)*100+"%"):w(Math.ceil((c+t)/100*s+Number(i)+Number(b.discount))):i.toString().includes("%")?w(Number(i.replace("%",""))+s+"%"):w(Math.ceil((c+t)/100*s+Number(i)))}),[b,i,s,c,t]),(0,y.jsx)(je.Z,{className:Ce.container,children:(0,y.jsxs)(ge.Z,{className:Ce.main,children:[(0,y.jsx)(Ne.q,{htmlAttributes:{lang:"ua",amp:void 0},title:"".concat(Z("siteName")," | ").concat("ru"===k?"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437":"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"),meta:[{name:"description",content:Z("siteDescription")}]}),u&&(0,y.jsx)(xe.Z,{text:f,onClose:p}),(0,y.jsx)(pe.Z,{active:Z("checkout.title"),items:N}),(0,y.jsxs)(Ze.Z,{className:Ce.sides,children:[(0,y.jsx)("div",{className:Ce.left,children:(0,y.jsx)(fe,{actionDiscount:i,gift:l,userDiscount:s,deliveryPrice:c,currentPromocode:b,items:r})}),(0,y.jsx)("div",{className:Ce.right,children:(0,y.jsxs)("div",{className:Ce.card,children:[(0,y.jsxs)("div",{className:Ce.list,children:[(0,y.jsxs)("div",{className:Ce.header,children:[(0,y.jsx)("h5",{children:Z("checkout.yourOrder")}),(0,y.jsx)(h.OL,{to:"/shopping_cart",children:Z("checkout.edit")})]}),(0,y.jsxs)("div",{className:Ce.items,children:[r.map((function(e){return(0,y.jsx)(ve.Z,{type:"checkout",item:e},e.item._id)})),l.map((function(e){return(0,y.jsx)(ve.Z,{type:"gift",item:{item:e},gift:l},e._id)}))]})]}),(0,y.jsxs)("div",{className:Ce.fieldCard,children:[(0,y.jsx)("span",{children:Z("shopping_cart.totalResultShort")}),(0,y.jsxs)("p",{children:[a," ",l.length>0&&"+ ".concat(l.length)," ",(0,y.jsx)("span",{children:"\u0448\u0442."})]})]}),(0,y.jsxs)("div",{className:Ce.fieldCard,children:[(0,y.jsxs)("span",{children:[Z("shopping_cart.onSum"),":"]}),(0,y.jsxs)("p",{children:[(0,be.Q)(t)," ",(0,y.jsx)("span",{children:"\u0433\u0440\u043d."})]})]}),(0,y.jsxs)("div",{className:Ce.fieldCard,children:[(0,y.jsxs)("span",{children:[Z("shopping_cart.delivery"),":"]}),(0,y.jsxs)("p",{children:[(0,be.Q)(c)," ",(0,y.jsx)("span",{children:"\u0433\u0440\u043d."})]})]}),(0,y.jsxs)("div",{className:Ce.fieldCard,children:[(0,y.jsxs)("span",{children:[Z("shopping_cart.discount"),":"]}),(0,y.jsxs)("p",{children:[(0,be.Q)(i)," ",!i.toString().includes("%")&&(0,y.jsx)("span",{children:"\u0433\u0440\u043d."})]})]}),s>0&&(0,y.jsxs)("div",{className:Ce.fieldCard,children:[(0,y.jsxs)("span",{children:[Z("shopping_cart.userDiscount"),":"]}),(0,y.jsxs)("p",{children:[(0,be.Q)(s),"%"]})]}),(0,y.jsxs)("div",{className:(0,T.cx)(Ce.fieldCard,Ce.fieldTotal),children:[(0,y.jsxs)("span",{children:[Z("shopping_cart.total"),":"]}),(0,y.jsxs)("p",{children:[(0,be.Q)((0,_e.a)(c+t,M)),(0,y.jsx)("span",{children:" \u0433\u0440\u043d."})]})]}),b?(0,y.jsxs)("p",{className:Ce.promoSuccess,children:[Z("checkout.promocodeApply")," ",b.discount.includes("%")?b.discount:b.discount+" \u0433\u0440\u043d."]}):(0,y.jsxs)("div",{className:Ce.promocodeBlock,children:[(0,y.jsx)("button",{onClick:x,className:Ce.addPromocodeButt,children:Z("checkout.addPromocode")}),(0,y.jsxs)("div",{className:(0,T.cx)(Ce.promoInputBlock,v?Ce.openPromo:""),children:[(0,y.jsx)(Q.Z,{value:g,onChange:j,placeholder:Z("checkout.promocodePlaceholder"),endAdornment:!0,endAdornmentIcon:(0,y.jsx)(d.Z,{className:Ce.submitPromoBut,onClick:_,children:(0,y.jsx)(ye.OEZ,{})})}),C&&(0,y.jsx)(ke.Z,{text:Z("checkout.promocodeError")})]})]})]})})]})]})})},Pe=(0,a.$j)((function(e){return{isFetching:e.common.isFetching,totalCount:e.cart.totalCount,totalSum:e.cart.totalSum,cartItems:e.cart.items,deliveryPrice:e.cart.deliveryPrice,actionDiscount:e.cart.actionDiscount,gift:e.cart.gift,user:e.user.user,orderDone:e.orders.orderDone,serverMessage:e.common.serverMessage,currentPromocode:e.promocodes.currentPromocode,receivePromocodeStatus:e.promocodes.receivePromocodeStatus,currentLanguage:e.common.currentLanguage}}),{setServerMessage:l.UC,setOrderDone:s.DQ,checkPromocode:u.Vv,setReceivePromocodeStatus:u.gY})((function(e){var r=e.isFetching,t=e.totalCount,a=e.totalSum,l=e.cartItems,s=e.deliveryPrice,u=e.actionDiscount,d=e.gift,m=e.user,h=e.orderDone,f=e.serverMessage,p=e.setServerMessage,v=e.setOrderDone,x=e.checkPromocode,g=e.currentPromocode,j=e.receivePromocodeStatus,_=e.setReceivePromocodeStatus,b=e.currentLanguage,C=(0,c.s0)(),k=(0,n.useState)(0),Z=(0,o.Z)(k,2),N=Z[0],S=Z[1],P=(0,n.useState)(!1),M=(0,o.Z)(P,2),w=M[0],D=M[1],O=(0,n.useState)(""),V=(0,o.Z)(O,2),F=V[0],q=V[1];return(0,n.useEffect)((function(){var e=localStorage.getItem("shopping_cart");JSON.parse(e)||C("/")}),[]),(0,n.useEffect)((function(){S(m&&m.discount?m.discount:0)}),[m]),(0,y.jsxs)(y.Fragment,{children:[r&&(0,y.jsx)(i.Z,{}),(0,y.jsx)(Se,{items:l,totalCount:t,totalSum:a,deliveryPrice:s,gift:d,actionDiscount:u,userDiscount:N,orderDone:h,serverMessage:f,closeOrderDoneModal:function(){v(!1),p(null),C("/")},isUsePromocode:w,handleUsePromocode:function(){D(!w)},promocodeValue:F,setPromocodeValue:function(e){_(!1),q(e)},checkPromocode:function(){F.length>0&&x(F)},currentPromocode:g,receivePromocodeStatus:j,currentLanguage:b})]})}))}}]);
//# sourceMappingURL=461.7fca8d54.chunk.js.map